<!DOCTYPE html>
<!-- 編集者　黄倉大輔 -->
<html lang="jp" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="adminLayout">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta charset="utf-8" />
<!-- Select2 -->
<link rel="stylesheet"
	th:href="@{/lib/admin-lte/bower_components/select2/dist/css/select2.min.css}"
	href="../../static/lib/admin-lte/bower_components/select2/dist/css/bootstrap.min.css" />
</head>
<body>

	<!-- ヘッダー -->
	<div class="ui container" layout:fragment="content" th:remove="tag">
		<!-- Content Header (Page header) -->
		<section class="content-header"></section>

	</div>

	<!-- 本文 -->
	<div layout:fragment="script" th:remove="tag">
		<!-- Select2 -->
		<script
			src="../../static/lib/admin-lte/bower_components/select2/dist/js/select2.min.js"
			th:src="@{/lib/admin-lte/bower_components/select2/dist/js/select2.min.js}"></script>
		<!-- JsRender -->
		<script th:src="@{/lib/jsrender/jsrender.min.js}"
			src="../../static/lib/jsrender/jsrender.min.js"></script>
		<script th:src="@{/js/admin/user-org.js}"
			src="../../static/js/admin/user-org.js"></script>


		<!-- 組織表見出し -->
		<h2>組織管理</h2>
		<p>
			<a class="btn btn-xs btn-info"
				href="#" onclick="openRegisterOrg()"> <i
					class="fa fa-plus"></i>
			</a>
		</p>
		<tr>
			<td class="vert-align col-md-4">組織コード</td>
			<td class="vert-align col-md-9">組織名</td>
		</tr>

		<!-- 組織表 -->
		<script id="org-list" type="text/x-jsrender">
	</script>

		<!-- ユーザ表見出し -->
		<h2>ユーザ管理</h2>
		<p>
			<i class="fa fa-trash" onclick="deleteUsers()"></i> <i
				class="fa fa-plus" onclick="openRegisterUser()"></i>
		</p>
		<tr>
			<td class="vert-align col-md-1"><input type="checkbox"
				id="userAllCheck" /></td>
			<td class="vert-align col-md-2">ユーザID</td>
			<td class="vert-align col-md-2">権限</td>
			<td class="vert-align col-md-2">組織</td>
			<td class="vert-align col-md-2">名前</td>
			<td class="vert-align col-md-2">メールアドレス</td>
			<td class="vert-align col-md-1"><a class="btn btn-xs btn-info"
				href="#" onclick="openUpdateUser({{:userId}})"> <i
					class="fa fa-pencil"></i>
			</a></td>
		</tr>

		<!-- ユーザ表 -->
		<script id="user-list" type="text/x-jsrender">
	</script>








		<!-- 組織表のテンプレ -->
		<script id="org-record-tmpl" type="text/x-jsrender">
        <tr class="clickable" onclick="findUser('{{:orgCd}}')">
            <td class="vert-align col-md-4">
                {{:orgCd}}
            </td>
            <td class="vert-align col-md-7">
                {{:orgName}}
            </td>
            <td class="vert-align col-md-1">
                <a class="btn btn-xs btn-info" onclick="openUpdateOrg('{{:orgCd}}')" href="#">
                    <i class="fa fa-pencil"></i>
                </a>
            </td>
            <td class="vert-align col-md-1">
                <i class="fa fa-minus text-danger" onclick="handleDeleteOrg('{{:orgCd}}')"></i>
            </td>
        </tr>
    </script>

		<!-- ユーザ表のテンプレ -->
		<script id="user-record-tmpl" type="text/x-jsrender">
        <tr>
            <td class="vert-align col-md-1">
                <input type="checkbox" name="userIds" value="{{:userId}}" class="checkUser"/>
            </td>
            <td class="vert-align col-md-2">
                {{:userId}}
            </td>
            <td class="vert-align col-md-2">
                {{:authName}}
            </td>
            <td class="vert-align col-md-2">
                {{:orgName}}
            </td>
            <td class="vert-align col-md-2">
                {{:name}}
            </td>
            <td class="vert-align col-md-2">
                {{:mail}}
            </td>
            <td class="vert-align col-md-1">
                <a class="btn btn-xs btn-info" href="#" onclick="openUpdateUser({{:userId}})">
                    <i class="fa fa-pencil"></i>
                </a>
            </td>
        </tr>
    </script>
	</div>

	<!-- 組織モーダル(登録・更新) -->
	<div class="modal" id="modal-org-form" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title">組織登録</h4>
				</div>
				<div>
					組織コード <input type="text" id="org-cd"/>
				</div>
				<div>
					組織名 <input type="text" id="org-name"/>
				</div>
				<div>
					表示順序 <input type="text" id="disp-seq"/>
				</div>
				<div id="org-register-button">
					<button type="button" onclick="handleRegisterOrg()">保存</button>
				</div>
				<div id="org-update-button">
					<button type="button" onclick="handleUpdateOrg()">保存</button>
				</div>
				<div>
					<button type="button">キャンセル</button>
				</div>
			</div>
		</div>
	</div>

	<!-- ユーザモーダル(登録・更新) -->
	<div class="modal" id="modal-user-form" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title">ユーザ登録</h4>
				</div>
				<div>
					ユーザID <input type="text" id="user-id"/>
				</div>
				<div>
					パスワード <input type="password" id="password"/>
				</div>
				<div>
					名前 <input type="text" id="name"/>
				</div>
				<div>
					メールアドレス <input type="text" id="mail"/>
				</div>
				<div id="user-org-cd">
					組織
				</div>
				<div id="manager-id">
					上司
				</div>
				<div id="auth-cd">
					権限
				</div>
				<div id="org-register-button">
					<button type="button" onclick="handleRegisterUser()">保存</button>
				</div>
				<div id="org-update-button">
					<button type="button" onclick="handleUpdateUser()">保存</button>
				</div>
				<div>
					<button type="button">キャンセル</button>
				</div>
			</div>
		</div>
	</div>

</body>
</html>
